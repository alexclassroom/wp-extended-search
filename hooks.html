<!DOCTYPE html>
<html dir="ltr" lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<meta property="og:title" content="Hooks | WP Extended Search" />
		<meta property="og:description" content="List of Actions and Filters to extend or modify the WP Extended Search functionality." />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://ps.w.org/wp-extended-search/assets/banner-772x250.png" />
		<meta name="google-site-verification" content="N8Ju49OKvlkOzY4aIPGwGvH3ihD67B-iG0LdjsSjRAM" />
		<meta name="description" content="List of Actions and Filters to extend or modify the WP Extended Search functionality." />
		<link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="96x96" href="./assets/images/favicon-96x96.png">
		<link rel="icon" type="image/png" sizes="16x16" href="./assets/images/favicon-16x16.png">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />
		<link rel="stylesheet" href="./assets/css/style.css" />
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<title>Hooks | WP Extended Search</title>
	</head>
	<body>
		<div class="container-fluid">
			<header class="wpes-header mb-4">
				<nav class="navbar navbar-expand-lg navbar-light bg-light">
					<a class="navbar-brand mr-1" href="./">
						<img src="./assets/images/wpes-logo.png" width="50" height="50" class="d-inline-block align-middle" alt="">
						WP Extended Search					</a>
					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#wpes-nav-toggle" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>

					<div class="collapse navbar-collapse justify-content-end" id="wpes-nav-toggle">
						<ul class="navbar-nav mt-2 mt-lg-0">
							<li class="nav-item ">
								<a class="nav-link" href="./">Home </a>
							</li>
							<li class="nav-item active">
								<a class="nav-link" href="./hooks">Hooks <span class="sr-only">(current)</span></a>
							</li>
															<li class="nav-item dropdown d-md-none">
									<a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Jump to</a>
									<div class="dropdown-menu">
																					<a class="dropdown-item" href="#wpes_meta_keys_query">wpes_meta_keys_query</a>
																					<a class="dropdown-item" href="#wpes_tax_args">wpes_tax_args</a>
																					<a class="dropdown-item" href="#wpes_post_types_args">wpes_post_types_args</a>
																					<a class="dropdown-item" href="#wpes_enabled">wpes_enabled</a>
																					<a class="dropdown-item" href="#wpes_posts_search">wpes_posts_search</a>
																					<a class="dropdown-item" href="#wpes_meta_keys">wpes_meta_keys</a>
																					<a class="dropdown-item" href="#wpes_tax">wpes_tax</a>
																					<a class="dropdown-item" href="#wpes_post_types">wpes_post_types</a>
																					<a class="dropdown-item" href="#wp_es_terms_relation_type">wp_es_terms_relation_type</a>
																					<a class="dropdown-item" href="#disable_wpes">disable_wpes</a>
																			</div>
								</li>
													</ul>
					</div>
				</nav>
			</header>
			<div class="row"><aside class="col-3 d-none d-md-block">
			<ul id="wpes-sidebar-links" class="list-group sticky-top">
							<li class="list-group-item"><a href="#wpes_meta_keys_query">wpes_meta_keys_query</a></li>
								<li class="list-group-item"><a href="#wpes_tax_args">wpes_tax_args</a></li>
								<li class="list-group-item"><a href="#wpes_post_types_args">wpes_post_types_args</a></li>
								<li class="list-group-item"><a href="#wpes_enabled">wpes_enabled</a></li>
								<li class="list-group-item"><a href="#wpes_posts_search">wpes_posts_search</a></li>
								<li class="list-group-item"><a href="#wpes_meta_keys">wpes_meta_keys</a></li>
								<li class="list-group-item"><a href="#wpes_tax">wpes_tax</a></li>
								<li class="list-group-item"><a href="#wpes_post_types">wpes_post_types</a></li>
								<li class="list-group-item"><a href="#wp_es_terms_relation_type">wp_es_terms_relation_type</a></li>
								<li class="list-group-item"><a href="#disable_wpes">disable_wpes</a></li>
						</ul>
		</aside><main class="col-md-9 col-sm-12">
	<p class="font-weight-bold">Use these actions and filters to extend or modify the plugin functionality.</p>
    <h3 id="wpes_meta_keys_query">wpes_meta_keys_query</h3>
    <p>Filter SQL query for listing meta keys in plugin settings.</p>
	<pre><code class="php">
/**
 * Select all meta keys including those start with _(underscore)
 */
function wpes_meta_keys_query($query) {
	global $wpdb;
	$query = "select DISTINCT meta_key from $wpdb->postmeta ORDER BY meta_key ASC";
	return $query;
}
add_filter('wpes_meta_keys_query', 'wpes_meta_keys_query');
	</code></pre>

		<!-- WPES In Content -->
	<ins class="adsbygoogle"
		 style="display:block"
		 data-ad-client="ca-pub-7348916268225140"
		 data-ad-slot="8314673012"
		 data-ad-format="auto"
		 data-full-width-responsive="true"></ins>
	<script>
		 (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	    <h3 id="wpes_tax_args">wpes_tax_args</h3>
    <p>Filter arguments array used by <code>get_taxonomies()</code> for listing taxonomies in settings.</p>
	<pre><code class="php">
/**
 * Display only custom taxonomies
 */
function wpes_tax_args($args) {
	$args['_builtin'] = false;
	return $args;
}
add_filter('wpes_tax_args', 'wpes_tax_args');
	</code></pre>

    <h3 id="wpes_post_types_args">wpes_post_types_args</h3>
    <p>Filter <code>get_post_types()</code> argument array used for listing post type in settings.</p>
	<pre><code class="php">
/**
 * List only custom post types
 */
function wpes_post_types_args($args) {
	$args['_builtin'] = false;
	return $args;
}
add_filter('wpes_post_types_args', 'wpes_post_types_args');
	</code></pre>

    <h3 id="wpes_enabled">wpes_enabled</h3>
    <p>Filter to enable/disable plugin functions for any specific condition.</p>
	<pre><code class="php">
/**
 * Disable WPES when query string variable disable_wpes is true
 */
function wpes_enabled($enabled) {
	if (!empty($_GET['disable_wpes'])) {
		return FALSE;
	}
	return $enabled;
}
add_filter('wpes_enabled', 'wpes_enabled');
	</code></pre>

    <h3 id="wpes_posts_search">wpes_posts_search</h3>
    <p>Filter final search SQL where statement return by <code>posts_search</code> filter.</p>
	<pre><code class="php">
/**
 * Filter SQL 'where' clause return by WPES
 * @see https://developer.wordpress.org/reference/hooks/posts_search/
 * @param string $search_where where clause
 * @param object $wp_query global wp_query object
 * @return string where clause
 */
function wpes_posts_search($search_where, $wp_query) {
	$search_where .= " AND your_custom_var = 'your_custom_value'";
	return $search_where;
}
add_filter('wpes_posts_search', 'wpes_posts_search', 10, 2);
	</code></pre>

    <h3 id="wpes_meta_keys">wpes_meta_keys</h3>
    <p>Filter meta keys name.</p>
	<pre><code class="php">
/**
 * Insert only one key that start with underscore
 */
function wpes_meta_keys($meta_keys) {
	$meta_keys[] = '_key_with_underscore';
	return $meta_keys;
}
add_filter('wpes_meta_keys', 'wpes_meta_keys');
	</code></pre>

    <h3 id="wpes_tax">wpes_tax</h3>
    <p>Filter Taxonomies array return by <code>get_taxonomies()</code></p>
	<pre><code class="php">
/**
 * Insert specific taxonomy in the result return by get_taxonomies
 */
function wpes_tax($taxonomies) {
	$my_tax = new stdClass();
	$my_tax->labels->name = 'Custom Tax';
	$taxonomies['custom_tax'] = $my_tax;
	return $taxonomies;
}
add_filter('wpes_tax', 'wpes_tax');
	</code></pre>
	
    <h3 id="wpes_post_types">wpes_post_types</h3>
    <p>Filter post types array return by <code>get_post_types()</code></p>
	<pre><code class="php">
/**
 * Insert specific post type in the result return by get_post_types
 */
function wpes_post_types($post_types) {
	$my_post_type = new stdClass();
	$my_post_type->labels = new stdClass();
	$my_post_type->labels->name = 'Custom Post'; // "Custom Post" is the name of post type.
	$post_types['custom_post'] = $my_post_type; // "custom_post" is the slug of post type.
	return $post_types;
}
add_filter('wpes_post_types', 'wpes_post_types');
	</code></pre>

    <h3 id="wp_es_terms_relation_type">wp_es_terms_relation_type</h3>
    <p>Filter the term relation type OR/AND in search SQL query. This filter will override the WPES setting.
		Possible values are OR and AND only.</p>
	<pre><code class="php">
/**
 * If search term contain the specific string 'hello WP' then return OR else use WPES setting
 * @return string OR or AND relation between terms in SQL query
 */
function wp_es_terms_relation_type() {
	if ($_GET['s'] == 'hello WP') {
		return 'OR';
	}
}
add_filter('wp_es_terms_relation_type', 'wp_es_terms_relation_type');
	</code></pre>
	
	<h3 id="disable_wpes">disable_wpes</h3>
	<p><code>disable_wpes</code> is a query var. You can pass this query var to your custom queries to disable WPES for specific queries.</p>
	<p>This is useful when you do not want to disable WPES for primary query and want to disable for secondary query only thus you can not use <code>wpes_enabled</code> filter.</p>
	<pre><code class="php">
/**
 * Disable WPES when my_custom_var is set to true.
 */
add_action('parse_query', function ( $q ) {
	if ($q->get('my_custom_var')) {
		$q->set('disable_wpes', true);
	}
});	
	</code></pre>
</main>
</div>
</div>
<footer class="bg-dark text-white mt-4 pt-2 overflow-hidden">
	<div class="container-fluid">
		<div class="row">
			<div class="col-12 col-md-6">	<!-- WPES Footer -->
	<ins class="adsbygoogle"
		 style="display:block"
		 data-ad-client="ca-pub-7348916268225140"
		 data-ad-slot="3305888916"
		 data-ad-format="auto"
		 data-full-width-responsive="true"></ins>
	<script>
		 (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	</div>
			<div class="col-12 col-md-6 align-self-end">
				<div class="text-center text-md-right wpes-custom-ad">
					<figure class="figure text-center mb-1">
						<a href="https://www.secretsofgeeks.com/2019/10/wordpress-login-remember-recent-usernames.html">
							<img width="260" height="293" class="img-fluid rounded" alt="WP Easy Login" src="./assets/images/wp-easy-login.jpg" />
						</a>
						<figcaption class="figure-caption pt-1">
							<a class="text-white" href="https://www.secretsofgeeks.com/2019/10/wordpress-login-remember-recent-usernames.html">WordPress Plugin that stores the recent usernames or emails and makes it easy to login by providing an account chooser like Google and Facebook.</a>
						</figcaption>
					</figure>
				</div>
				<nav class="nav justify-content-md-end justify-content-center">
					<a class="nav-link text-white" rel="nofollow" href="https://wordpress.org/plugins/wp-extended-search/">Download</a>
					<a class="nav-link text-white" rel="nofollow" href="https://wordpress.org/support/plugin/wp-extended-search/">Support</a>
					<a class="nav-link text-white" rel="nofollow" href="https://github.com/5um17/wp-extended-search">GitHub</a>
					<a class="nav-link text-white" href="https://www.secretsofgeeks.com/2014/09/wordpress-search-tags-and-categories.html">Blog</a>
					<a class="nav-link text-white" href="https://www.secretsofgeeks.com/p/contact.html">Contact</a>
				</nav>
			</div>
		</div>
	</div>
</footer>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/solarized-dark.min.css">
<script type="text/javascript" src="./assets/js/custom.js"></script>
</body>
</html>